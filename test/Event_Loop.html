<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>


  <script>
    console.log(1);
    setTimeout(function () {
      console.log(2);
      new Promise(function (resolve) {
        console.log(3);
        resolve();
      }).then(function () {
        console.log(4);
      })
    }, 0);

    new Promise(function (resolve) {
      console.log(5);
      resolve();
    }).then(function () {
      console.log(6);
    })

    setTimeout(function () {
      console.log(7);
      new Promise(function (resolve) {
        console.log(8);
        resolve();
      }).then(function () {
        console.log(9);
      })
    }, 0)
  </script>

  <!-- 

    1 5 6 2 3 4 7 8 9

   -->

  <!-- <script>
    setTimeout(function () {
      console.log(1);
    }, 0)
    console.log(2);
    new Promise(function (resolve) {
      console.log(3); //直接执行
      resolve();
    }).then(function () {
      console.log(4);
    }).then(function () {
      console.log(5);
    })
  </script> -->


  <!-- 

  宏任务：整段代码  setTimeout(第二个宏任务)
  微任务： 4 5
  答案： 2 3 4 5 第二次执行宏任务1

-->



  <!-- <script>
    console.log(1);
    setTimeout(function () {
      console.log(2);
    }, 0);
    new Promise(function (resolve) {
      console.log(3);
      resolve();
    }).then(function () {
      console.log(4);
    })

    console.log(5);
  </script> -->

  <!-- 

  宏任务：整段代码  setTimeout(第二个宏任务)
  微任务： 4 
  答案： 1 3 5 4 2
    2 3 4 5 1

 -->
</body>

</html>